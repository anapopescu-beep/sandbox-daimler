					Autoliv Electronics Document
--------------------------------------------------------------------------
Nightly test: No
Test type: Requirement-Based test
Regression Test: No
Fault injection method used: No
Resource usage evaluation: No
Priority: No
Safety relevant: No
Requirement under test: ARCH_SW_ERH_0040
ARCH_SW_ERH_0040: The ERH_KU8_IMPLAUSIBLE_DATA_POWERTRAIN_RDY_AEC_CFG should have the following properties: Qualification Count =10; Deskill Count = 3; associated group: KU32_AEC_GROUP_MASK_IMPLAUSIBLE_DATA_POWERTRAIN
--------------------------------------------------------------------------

Preconditions

	Step 1: Bench Initialization

	Step 2: Set a breakpoint in function atm_executeAutoTest() at line Rte_Call_pclAecStatus_SetAecEvent(U8_GET_AEC_ID(cu8AutotestID), (u8AecCommandType)KU8_AEC_PASSED);.

Action: ARCH_SW_ERH_0040

	Step 3: Step in function Rte_Call_pclAecStatus_SetAecEvent(U8_GET_AEC_ID(cu8AutotestID), (u8AecCommandType)KU8_AEC_PASSED). 
		Expected result:  Stepped in ERH_runSetAecEvent()

	Step 4: Set a breakpoint in function ERH_Init().

	Step 5: Check if CPU stopped in function ERH_Init(). 
		Expected result:  CPU is Stopped

	Step 6: Set variable erh_u8OtherGroupValue to 0x11

	Step 7: Set a breakpoint in function ERH_Init() at line 'if (ERH_KU8_AEC_EVER_QUALIFIED_STATUS_MASK == (NVP_BLOCK_ID_AEC_STATUS_RamBlockData.NVP_au8AECStatus[u8Index]'.

	Step 8: Set variable NVP_BLOCK_ID_AEC_STATUS_RamBlockData.NVP_au8AECStatus[0] to 0x1

	Step 9: Set a breakpoint in function erh_UpdateGroup() at line u32GroupStatusForDTC = (uint32)KU32_ONE << u8Group;.

Action: ARCH_SW_ERH_0040

	Step 10: Set a breakpoint in function erh_UpdateGroup() at line case (uint32) KU32_AEC_GROUP_MASK_IMPLAUSIBLE_DATA_POWERTRAIN:. 
		Expected result:  BP set

Postcondition

	Step 11: Return ECU to default values
