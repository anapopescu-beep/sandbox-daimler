					Autoliv Electronics Document
--------------------------------------------------------------------------
Nightly test: No
Test type: Requirement-Based test
Regression Test: Yes
Fault injection method used: No
Resource usage evaluation: No
Priority: No
Safety relevant: No
Requirement under test: ARCH_SW_ERH_0018, ARCH_SW_ERH_0019, ARCH_SW_ERH_0020, ARCH_SW_ERH_0021, ARCH_SW_ERH_0022, ARCH_SW_ERH_0023, ARCH_SW_ERH_0025
ARCH_SW_ERH_0018: The AEC ERH_KU8_HIGH_SIDE_SWITCH_AEC_CFG shall be defined as a Counter based AEC, with the following parameters: qualification time: instantaneously; deskill time: 1 (shall be deskilled even after reset to recheck the fault situation); associated group: KU32_AEC_GROUP_MASK_HARDWARE
ARCH_SW_ERH_0019: The ERH_KU8_MOSFET_HIGH_SC_AEC_CFG should have the following properties: Qualification Count = 50; Qualification_time = Qualification_count * Autotest_Periodicity = 5000ms; Deskill Count = 100; Deskill_time = Deskill_count * Autotest_Periodicity = 10000ms SC; associated group: KU32_AEC_GROUP_MASK_HARDWARE
ARCH_SW_ERH_0020: The ERH_KU8_MOSFET_LOW_SC_AEC_CFG should have the following properties: Qualification Count = 50; Qualification_time = Qualification_count * Autotest_Periodicity = 5000ms; Deskill Count = 100; Deskill_time = Deskill_count * Autotest_Periodicity = 10000ms; associated group: KU32_AEC_GROUP_MASK_HARDWARE
ARCH_SW_ERH_0021: The ERH_KU8_MOSFET_OC_AEC_CFG should have the following properties: Qualification_time = instantaneously; Deskill_time = 1 (after each reset); associated group: KU32_AEC_GROUP_MASK_HARDWARE 
ARCH_SW_ERH_0022: The ERH_KU8_HALL_SENSOR_AEC_CFG should have the following properties: Qualification Count = 1; Qualification_time = Qualification_count * Autotest_Periodicity = 100ms; Deskill Count = 1; Deskill_time = Deskill_count * Autotest_Periodicity = 100ms; associated group: KU32_AEC_GROUP_MASK_HARDWARE
ARCH_SW_ERH_0023: The ERH_KU8_ENABLE_OUT_OF_ORDER_AEC_CFG should have the following properties: Qualification Count = 2; Qualification_time = Qualification_count * Autotest_Periodicity = 200ms; Deskill Count = 60; Deskill_time = Deskill_count * Autotest_Periodicity = 6000ms; associated group: KU32_AEC_GROUP_MASK_HARDWARE
ARCH_SW_ERH_0025: The ERH_KU8_TEMPERATURE_SENSOR_FAILURE_AEC_CFG should have the following properties: Qualification Count = 1; Qualification_time = Qualification_count * Autotest_Periodicity = 5000ms; Deskill Count = 1; Deskill_time = Deskill_count * Autotest_Periodicity = 5000ms; - associated group: KU32_AEC_GROUP_MASK_HARDWARE
--------------------------------------------------------------------------

Preconditions

	Step 1: Bench Initialization

	Step 2: Set a breakpoint in function atm_executeAutoTest() at line Rte_Call_pclAecStatus_SetAecEvent(U8_GET_AEC_ID(cu8AutotestID), (u8AecCommandType)KU8_AEC_PASSED);.

Action: ARCH_SW_ERH_0018, ARCH_SW_ERH_0019, ARCH_SW_ERH_0020, ARCH_SW_ERH_0021, ARCH_SW_ERH_0022, ARCH_SW_ERH_0023, ARCH_SW_ERH_0025

	Step 3: Step in function Rte_Call_pclAecStatus_SetAecEvent(U8_GET_AEC_ID(cu8AutotestID), (u8AecCommandType)KU8_AEC_PASSED). 
		Expected result:  Stepped in ERH_runSetAecEvent()

	Step 4: Set a breakpoint in function ERH_Init().

	Step 5: Set a breakpoint in function ERH_Init() at line erh_au16AecCounter[u8Index] = u16AECDeskillThreshold;.

	Step 6: Set variable NVP_BLOCK_ID_AEC_STATUS_RamBlockData.NVP_au8AECStatus[0] to 0x1

	Step 7: Set a breakpoint in function erh_UpdateGroup() at line u32GroupStatusForDTC = (uint32)KU32_ONE << u8Group;.

	Step 8: Set variable u32GroupStatusForDTC to 32.

Action: ARCH_SW_ERH_0018, ARCH_SW_ERH_0019, ARCH_SW_ERH_0020, ARCH_SW_ERH_0021, ARCH_SW_ERH_0022, ARCH_SW_ERH_0023, ARCH_SW_ERH_0025

	Step 9: Set a breakpoint in function erh_UpdateGroup() at line case (uint32)KU32_AEC_GROUP_MASK_HARDWARE:. 
		Expected result:  BP set

Postcondition

	Step 10: Return ECU to default values
